<div class="page-section">
    <h2>DP Tool</h2>

    <div class="card">
        <p class="muted">
            This is your DP (Digits Pattern) analysis tool.  
            You can add your pattern logic here later.
        </p>

        <div class="dp-tool-box">

            <label>Enter Digits Stream:</label>
            <input id="dpInput" type="text" class="input" placeholder="e.g., 293847563829..." />

            <label>Select Pattern:</label>
            <select id="dpPattern" class="input">
                <option value="repeat">Repeated digits</option>
                <option value="even">Even digits</option>
                <option value="odd">Odd digits</option>
                <option value="pairs">Digit Pairs</option>
            </select>

            <button class="btn" onclick="runDP()">Run Analysis</button>
        </div>

        <div class="card dp-results">
            <h3>Results</h3>
            <pre id="dpOutput" class="muted">Waiting for input…</pre>
        </div>
    </div>
</div>

<script>
function runDP() {
    const text = document.getElementById("dpInput").value.trim();
    const pattern = document.getElementById("dpPattern").value;

    if (text === "") {
        document.getElementById("dpOutput").innerText = "Please enter digits to analyze.";
        return;
    }

    let result = "";

    switch(pattern) {
        case "repeat":
            result = analyzeRepeats(text);
            break;

        case "even":
            result = [...text].filter(n => n % 2 === 0).join(" ");
            break;

        case "odd":
            result = [...text].filter(n => n % 2 !== 0).join(" ");
            break;

        case "pairs":
            result = text.match(/../g)?.join(" | ") || "No pairs found";
            break;
    }

    document.getElementById("dpOutput").innerText = result;
}

function analyzeRepeats(str) {
    let repeats = {};
    for (let i = 0; i < str.length; i++) {
        const digit = str[i];
        repeats[digit] = (repeats[digit] || 0) + 1;
    }

    return Object.keys(repeats)
        .map(d => `Digit ${d} → ${repeats[d]} times`)
        .join("\n");
}
</script>